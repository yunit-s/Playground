# STT(Speech-to-Text) 성능 테스트 프로젝트

## 1. 프로젝트 개요

- 본 프로젝트는 음성 파일을 텍스트로 변환하는 STT(Speech-to-Text) 모델의 성능을 측정하기 위한 웹 애플리케이션입니다.
- 사용자는 음성 파일과 해당 음성의 정답 텍스트를 업로드하여, STT 변환 결과의 CER(Character Error Rate, 글자 오류율)을 계산하고 결과를 확인할 수 있습니다.

## 2. 주요 기능

- **파일 업로드:**
    - 성능을 측정할 음성 파일(예: `.wav`, `.mp3`) 업로드
    - 비교 기준으로 사용할 정답 텍스트 파일(`.txt`) 또는 텍스트 직접 입력
		- 동시에 여러 파일 업로드 가능
- **CER 계산:**
    - STT 및 CER 계산 언어: 한글
    - 업로드된 음성 파일을 STT API로 전송하여 텍스트로 변환
    - STT 변환 텍스트와 정답 텍스트를 비교하여 CER 값을 계산
		- **각 파일별 상세 CER 계산:** CER (Mode A: 띄어쓰기 포함, Mode B: 띄어쓰기 미포함), 대체(S), 삭제(D), 삽입(I), 참조 길이(N) 값 계산
		- **전체 요약 CER 계산:** 모든 파일의 참조 텍스트와 가설 텍스트를 각각 이어 붙여 하나의 큰 문자열로 만든 후, Mode A 방식으로 총 CER, 총 대체(S), 총 삭제(D), 총 삽입(I), 총 참조 길이(N) 값 계산
- **결과 표시:**
    - **전체 요약 결과:** 파일별 상세 결과 테이블 상단에 총 CER, S, D, I, N 값을 표시
    - **파일별 상세 결과:** 정답 텍스트, STT 변환 텍스트, 계산된 CER (Mode A), S, D, I, N 값을 화면에 표시 (Mode B 결과는 화면에 표시하지 않음)
- **결과 저장:**
    - 측정 이력(파일명, 정답 텍스트, STT 결과, CER (Mode A), S, D, I, N)을 Excel 파일로 다운로드하는 기능
    - Excel 파일에 전체 요약 결과(총 CER, S, D, I, N)를 별도의 시트로 포함

## 3. 기술 스택

- **Backend:** Spring Boot, Java 17
- **Frontend:** Thymeleaf
- **Build Tool:** Gradle
- **Excel 처리 라이브러리:** Apache POI
- **Database:** MariaDB, JPA

## 4. 개발 순서

1.  Spring Boot 프로젝트 초기 설정
2.  모든 access로그 및 기타 사용자 로그에 대해 비동기 로깅이 가능하도록 로깅 시스템 구현
3.  파일 업로드를 위한 웹 페이지(View) 및 컨트롤러 구현
4.  STT API 연동 및 결과 반환 로직 구현
5.  **CER 상세 계산 로직 구현:** 레벤슈타인 거리 알고리즘을 활용하여 대체(S), 삭제(D), 삽입(I) 값을 개별적으로 계산하는 기능 추가
6.  **전체 요약 CER 계산 로직 구현:** 모든 파일의 텍스트를 합쳐 총 CER, S, D, I, N을 계산하는 기능 추가
7.  측정 결과를 화면에 표시하는 로직 구현 (전체 요약 결과 상단 표시, 파일별 상세 결과에서 Mode B 제외)
8.  결과를 Excel 파일로 생성하고 다운로드하는 기능 구현 (Excel에 전체 요약 결과 시트 추가, 파일별 상세 결과에서 Mode B 제외)
9.  업로드하는 음성파일과 텍스트 파일을 파일시스템에 저장하고, DB에 해당 내용을 기록(파일명 중복을 피하기 위해 업로드 시간을 기준으로 파일명 변경하여 저장)
